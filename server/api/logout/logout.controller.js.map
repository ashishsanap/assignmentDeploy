{"version":3,"sources":["api/logout/logout.controller.js"],"names":["index","req","res","redisClient","del","authData","PM_Client_MobileNumber","err","json","success","msg","LoginSession","update","LoginStatus","TimestampLogout","Date","where","UserID","PM_UserID","then","catch","status","send"],"mappings":";;;;;QAEgBA,K,GAAAA,K;AAAT,SAASA,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AAC9BC,cAAYC,GAAZ,CAAiB,IAAGH,IAAII,QAAJ,CAAaC,sBAAuB,EAAxD,EAA4DC,GAAD,IAAS;AAClE,QAAIA,GAAJ,EAAS;AACPL,UAAIM,IAAJ,CAAS;AACPC,iBAAS,IADF;AAEPC,aAAK;AAFE,OAAT;AAID,KALD,MAKO;AACLR,UAAIM,IAAJ,CAAS;AACPC,iBAAS,IADF;AAEPC,aAAK;AAFE,OAAT;AAID;AACF,GAZD;AAaAC,eAAaC,MAAb,CAAoB,EAAEC,aAAa,CAAf,EAAkBC,iBAAiB,IAAIC,IAAJ,EAAnC,EAApB,EACE,EAAEC,OAAO,EAAEC,QAAQhB,IAAII,QAAJ,CAAaa,SAAvB,EAAkCL,aAAa,CAA/C,EAAT,EADF,EACiEM,IADjE,CACsE,MAAM,CAC3E,CAFD,EAGGC,KAHH,CAGS,MAAM;AACXlB,QAAImB,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ,EAAEb,SAAS,KAAX,EAAkBC,KAAK,sBAAvB,EADR;AAED,GANH;AAOD","file":"logout.controller.js","sourcesContent":["\n\nexport function index(req, res) {\n  redisClient.del(`R${req.authData.PM_Client_MobileNumber}`, (err) => {\n    if (err) {\n      res.json({\n        success: true,\n        msg: 'logout',\n      });\n    } else {\n      res.json({\n        success: true,\n        msg: 'logout',\n      });\n    }\n  });\n  LoginSession.update({ LoginStatus: 0, TimestampLogout: new Date() },\n    { where: { UserID: req.authData.PM_UserID, LoginStatus: 1 } }).then(() => {\n  })\n    .catch(() => {\n      res.status(500)\n        .send({ success: false, msg: 'Something Went Wrong' });\n    });\n}\n\n"]}